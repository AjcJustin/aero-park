<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="AeroPark GOMA - Système de parking automatisé à l'aéroport de Goma. Réservez votre place en ligne 24/7.">
    <meta name="keywords" content="parking, aéroport, Goma, RDC, réservation, automatisé">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="AeroPark">
    <title>AeroPark GOMA - Parking Automatisé</title>
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>

    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Navigation principale">
        <a href="index.html" class="nav-brand" aria-label="AeroPark GOMA - Accueil">
            <i class="fas fa-plane" aria-hidden="true"></i>
            <span>AeroPark GOMA</span>
        </a>
        <ul class="nav-links" id="nav-links" role="menubar">
            <li role="none"><a href="index.html" class="active" role="menuitem"><i class="fas fa-home" aria-hidden="true"></i> Accueil</a></li>
            <li role="none"><a href="#" onclick="handleReserveClick(event)" role="menuitem"><i class="fas fa-ticket-alt" aria-hidden="true"></i> Réserver</a></li>
            <li id="auth-links" role="none">
                <a href="pages/login.html" class="btn btn-outline" role="menuitem"><i class="fas fa-sign-in-alt" aria-hidden="true"></i> Connexion</a>
                <a href="pages/register.html" class="btn btn-primary" role="menuitem"><i class="fas fa-user-plus" aria-hidden="true"></i> Inscription</a>
            </li>
            <li id="user-menu" class="hidden" role="none">
                <a href="pages/profile.html" class="btn btn-outline" role="menuitem"><i class="fas fa-user" aria-hidden="true"></i> Profil</a>
                <a href="#" class="btn btn-outline" id="logout-btn" role="menuitem"><i class="fas fa-sign-out-alt" aria-hidden="true"></i> Déconnexion</a>
            </li>
        </ul>
        <button class="hamburger" id="hamburger" aria-label="Menu" aria-expanded="false" aria-controls="nav-links">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- Hero Section -->
    <header class="hero" role="banner">
        <div class="hero-content">
            <h1>Bienvenue sur <span class="highlight">AeroPark GOMA</span></h1>
            <p>Système de parking automatisé aéroportuaire</p>
            <a href="#" class="btn btn-large btn-primary" id="reserve-btn" onclick="handleReserveClick(event)" role="button">
                <i class="fas fa-car" aria-hidden="true"></i> Réserver une place
            </a>
        </div>
        <div class="hero-illustration" aria-hidden="true">
            <i class="fas fa-parking"></i>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Stats Section -->
        <section class="stats-section" aria-labelledby="stats-title">
            <div class="container">
                <h2 class="section-title" id="stats-title">État du Parking en Temps Réel</h2>
                <div class="stats-grid" role="list">
                    <!-- Total Places -->
                    <article class="stat-card" role="listitem">
                        <div class="stat-icon total" aria-hidden="true">
                            <i class="fas fa-warehouse"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="total-places" aria-live="polite">0</span>
                            <span class="stat-label">Places Totales</span>
                        </div>
                    </article>

                    <!-- Places Disponibles -->
                    <article class="stat-card" role="listitem">
                        <div class="stat-icon available" aria-hidden="true">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="available-places" aria-live="polite">0</span>
                            <span class="stat-label">Places Disponibles</span>
                        </div>
                    </article>

                    <!-- Places Occupées -->
                    <article class="stat-card" role="listitem">
                        <div class="stat-icon occupied" aria-hidden="true">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="occupied-places" aria-live="polite">0</span>
                            <span class="stat-label">Places Occupées</span>
                        </div>
                    </article>

                    <!-- Places Réservées -->
                    <article class="stat-card" role="listitem">
                        <div class="stat-icon rate" style="background: var(--reserved-color);" aria-hidden="true">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="reserved-places" aria-live="polite">0</span>
                            <span class="stat-label">Places Réservées</span>
                        </div>
                    </article>

                    <!-- Taux d'occupation -->
                    <article class="stat-card" role="listitem">
                        <div class="stat-icon rate" aria-hidden="true">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="occupation-rate" aria-live="polite">0%</span>
                            <span class="stat-label">Taux d'Occupation</span>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Visual Indicator Section -->
        <section class="visual-section" aria-labelledby="visual-title">
            <div class="container">
                <h2 class="section-title visually-hidden" id="visual-title">Indicateur Visuel</h2>
                <div class="visual-indicator">
                    <figure class="progress-ring" role="img" aria-label="Indicateur de taux d'occupation">
                        <svg class="progress-svg" viewBox="0 0 200 200" aria-hidden="true">
                            <circle class="progress-bg" cx="100" cy="100" r="90"></circle>
                            <circle class="progress-bar" cx="100" cy="100" r="90" id="progress-circle"></circle>
                        </svg>
                        <figcaption class="progress-text">
                            <span id="progress-percent" aria-live="polite">0%</span>
                            <small>Occupé</small>
                        </figcaption>
                    </figure>
                    <div class="status-indicator" id="status-indicator" role="status" aria-live="polite">
                        <div class="status-light" aria-hidden="true"></div>
                        <span class="status-text">Chargement...</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Parking Map Preview -->
        <section class="map-section" aria-labelledby="map-title">
            <div class="container">
                <h2 class="section-title" id="map-title">Aperçu du Parking</h2>
                <p class="section-subtitle">Vue en temps réel des places disponibles</p>
                <div class="parking-map-preview" id="parking-preview" role="grid" aria-label="Plan du parking">
                    <!-- Les places seront générées par JavaScript -->
                </div>
                <div class="map-legend" role="list" aria-label="Légende du plan">
                    <div class="legend-item" role="listitem">
                        <span class="legend-color available" aria-hidden="true"></span>
                        <span>Disponible</span>
                    </div>
                    <div class="legend-item" role="listitem">
                        <span class="legend-color occupied" aria-hidden="true"></span>
                        <span>Occupée</span>
                    </div>
                    <div class="legend-item" role="listitem">
                        <span class="legend-color reserved" aria-hidden="true"></span>
                        <span>Réservée</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features-section" aria-labelledby="features-title">
            <div class="container">
                <h2 class="section-title" id="features-title">Nos Services</h2>
                <div class="features-grid">
                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3>Réservation 24/7</h3>
                        <p>Réservez votre place à tout moment, depuis n'importe où.</p>
                    </article>
                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Sécurité Maximale</h3>
                        <p>Surveillance vidéo et contrôle d'accès sécurisé.</p>
                    </article>
                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3>Accès Mobile</h3>
                        <p>Interface responsive adaptée à tous les appareils.</p>
                    </article>
                    <article class="feature-card">
                        <div class="feature-icon" aria-hidden="true">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>Temps Réel</h3>
                        <p>Informations actualisées en permanence.</p>
                    </article>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer style="background: #1e293b; color: #94a3b8; padding: 1rem 0; text-align: center; font-size: 0.85rem;" role="contentinfo">
        <div class="container" style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; flex-wrap: wrap;">
            <i class="fas fa-plane" style="color: #2563eb;" aria-hidden="true"></i>
            <span>AeroPark GOMA</span>
            <span style="opacity: 0.5;">|</span>
            <span>&copy; 2026 Tous droits réservés</span>
        </div>
    </footer>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
    <script>
        function handleReserveClick(event) {
            event.preventDefault();
            
            if (Auth.isLoggedIn()) {
                window.location.href = 'pages/reservation.html';
            } else {
                showNotification('Veuillez vous connecter pour réserver une place.', 'warning');
                setTimeout(function() {
                    window.location.href = 'pages/login.html';
                }, 1500);
            }
        }
    </script>
</body>
</html>
